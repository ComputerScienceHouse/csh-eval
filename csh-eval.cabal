-- csh-eval.cabal
-- For further documentation, see http://haskell.org/cabal/users-guide/

name:                csh-eval
version:             0.1.0.0
synopsis:            REPL for PEOPLE
-- description:         
homepage:            https://github.com/ComputerScienceHouse/csh-eval
license:             MIT
license-file:        LICENSE
author:              Matt Gambogi, Stephen Demos, Travis Whitaker
maintainer:          pvals@csh.rit.edu
-- copyright:           
category:            Control
build-type:          Simple
extra-source-files:  README.md
cabal-version:       >=1.10

executable csh-eval
  main-is:             Main.hs
  -- other-modules:       
  -- other-extensions:    
  build-depends:         base >=4.7 && <4.9
                       , bytestring
                       , safe
                       , servant >= 0.4
                       , servant-server >= 0.4
                       , csh-eval
                       , warp
                       , resource-pool
                       , time
                       , hasql
                       , hasql-postgres
                       , wai
                       , yesod
                       , shakespeare
                       , uuid
  hs-source-dirs:      src
  default-language:    Haskell2010

executable csh-eval-db-init
  main-is:             DBInitMain.hs
  hs-source-dirs:      db
  default-language:    Haskell2010
  build-depends:       base >= 4.7 && < 4.9
                      ,hasql
                      ,hasql-postgres
                      ,bytestring
                      ,text
                      ,uuid
                      ,csh-eval

library
    exposed-modules:     CSH.Eval.DB.Schema
                       , CSH.Eval.DB.Statements
                       , CSH.Eval.Frontend
                       , CSH.Eval.Routes
                       , CSH.LDAP
    hs-source-dirs:      src
    build-depends:       base >=4.7 && <4.9
                 ,       bytestring
                 ,       safe
                 ,       servant >= 0.4
                 ,       servant-server >= 0.4
                 ,       resource-pool
                 ,       text
                 ,       time
                 ,       hasql
                 ,       hasql-postgres
                 ,       ldap-client
                 ,       wai
                 ,       yesod
                 ,       uuid
                 ,       shakespeare
    default-language:    Haskell2010


test-suite tests
    hs-source-dirs:      test
    main-is:             Tests.hs
    build-depends:         base >=4.7 && <4.9
                         , safe
                         , tasty
                         , tasty-quickcheck
                         , quickcheck-instances
                         , tasty-hunit
                         , doctest
    ghc-options:         -Wall
    default-extensions:  OverloadedStrings
    default-language:    Haskell2010
    type:                exitcode-stdio-1.0
